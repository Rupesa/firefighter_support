<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Realtime Dashboard</title>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" rel="stylesheet" type="text/css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>

    <link href="/webjars/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <script src="/webjars/jquery/jquery.min.js"></script>
    <script src="/webjars/sockjs-client/sockjs.min.js"></script>
    <script src="/webjars/stomp-websocket/stomp.min.js"></script>

</head>
<body onload = "">
<nav class="navbar navbar-expand-md navbar-dark bg-success fixed-top" style="text-align: center;  display: inline-block; float: none; vertical-align: top;">
    <a class="navbar-brand" href="#"> FireFighter Support </a>
</nav>

<br>
<br>
<br>

<main role="main" class="container">
    <br>
    <h1 style="text-align: center;">Realtime Support</h1>
    <br>

    <div id="googleMap" style="width:100%;height:475px;"></div>

    <script th:inline="javascript">
        function myMap() {
            var mapProp= {
        	center:new google.maps.LatLng(40.06479009,-8.16042933),
        	zoom: 21,
    	    };
    	    var map = new google.maps.Map(document.getElementById("googleMap"),mapProp);

            /*<![CDATA[*/

            /*[# th:each="ff : ${ffPositions}"]*/
                
                new google.maps.Marker({position: new google.maps.LatLng(/*[[${ff[0]}]]*/, /*[[${ff[1]}]]*/), 
                   icon: {
                        url: 'https://img.icons8.com/dotty/2x/fireman-male.png',
                        scaledSize: new google.maps.Size(25, 25)
                    }
                }).setMap(map);
                
            /*[/]*/

            /*]]>*/

        }
    </script>
    
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBk0ZnJTY4g4euP07og1_w5_5FSRcJ-y4k&callback=myMap&libraries=&v=weekly"></script>
    <script src="/app.js"></script>
    
    <br>
    
    <a class="btn btn-success" href="http://192.168.160.87:33001/d/GAIHww3Gz/es_firefightersupport_dashboard_realtime?orgId=1&refresh=5s&from=1622796950901&to=1622818550901"> Detailed Info Dashboard </a>
    
    <br><br>
    
    <button id="reset" class="btn btn-success"> Reset Mission </button>
    <br>
    
    <script th:inline="javascript">
    
    	/*<![CDATA[*/
    	
    	/*[# th:each="alert : ${alerts}"]*/
    	
    		alert(/*[[${alert}]]*/);
    	
    	/*[/]*/

        /*]]>*/
    </script>

    <br>

</main>

  <!-- ======= Footer ======= -->
  <footer id="footer bg-success">

    <div class="container d-md-flex py-4">

      <div class="me-md-auto text-center text-md-start">
        <div class="copyright">
          &copy; Copyright <strong><span>FireFighter Support</span></strong>. All Rights Reserved
        </div>
        <div class="credits">
          <!-- All the links in the footer should remain intact. -->
          <!-- You can delete the links only if you purchased the pro version. -->
          <!-- Licensing information: https://bootstrapmade.com/license/ -->
          <!-- Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/mentor-free-education-bootstrap-theme/ -->
          Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
        </div>
      </div>
    </div>
  </footer><!-- End Footer -->

</body>

</html>
